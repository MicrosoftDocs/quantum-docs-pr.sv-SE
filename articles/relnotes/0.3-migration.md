---
title: QDK 0,3 språk granskning och migrations guide
description: 'Beskriver de nya funktionerna i Microsoft Quantum Development Kit 0,3 och hur du migrerar befintliga Q #-program.'
author: beheim
uid: microsoft.quantum.relnotes.migration-0-3
ms.author: bettina.heim@microsoft.com
ms.date: 10/29/2018
ms.topic: article
ms.openlocfilehash: a715185059e37e3805caf48e7fae6f5ed3372dba
ms.sourcegitcommit: 2317473fdf2b80de58db0f43b9fcfb57f56aefff
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 05/15/2020
ms.locfileid: "83426795"
---
# <a name="qdk-03-language-release-notes-and-migration-guide"></a><span data-ttu-id="c733f-103">QDK 0,3 språk versions information och migrations guide</span><span class="sxs-lookup"><span data-stu-id="c733f-103">QDK 0.3 language release notes and migration guide</span></span>

<span data-ttu-id="c733f-104">Vi är glada att kunna presentera den senaste uppdateringen av Quantum Development Kit.</span><span class="sxs-lookup"><span data-stu-id="c733f-104">We are excited to introduce the newest update to the Quantum Development Kit.</span></span>  <span data-ttu-id="c733f-105">Den här sidan ger en översikt över de nya funktionerna för Q #-språk och beskriver hur du [migrerar](#Migration) befintliga q #-program till den nya syntaxen.</span><span class="sxs-lookup"><span data-stu-id="c733f-105">This page gives an overview of the new Q# language features and describes how to [migrate](#Migration) existing Q# programs to the new syntax.</span></span>  <span data-ttu-id="c733f-106">Se vår fullständiga dokumentation för att få en fullständig beskrivning av språket för Q # [här](xref:microsoft.quantum.guide.basics).</span><span class="sxs-lookup"><span data-stu-id="c733f-106">See our complete documentation for the full description of the Q# language [here](xref:microsoft.quantum.guide.basics).</span></span>


## <a name="whats-new"></a><span data-ttu-id="c733f-107">Nyheter</span><span class="sxs-lookup"><span data-stu-id="c733f-107">What's New</span></span> 

<span data-ttu-id="c733f-108">Uppdateringen 0,3 innehåller en rad nya språk-och redigerings funktioner.</span><span class="sxs-lookup"><span data-stu-id="c733f-108">The 0.3 update comes with a range of new language and editor features.</span></span>

### <a name="overview-of-features"></a><span data-ttu-id="c733f-109">Översikt över funktioner</span><span class="sxs-lookup"><span data-stu-id="c733f-109">Overview of Features</span></span>

- <span data-ttu-id="c733f-110">Förbättrad integrerings verktyg för Visual Studio och Visual Studio Code, inklusive:</span><span class="sxs-lookup"><span data-stu-id="c733f-110">Enhanced development tool integration for Visual Studio and Visual Studio Code, including:</span></span>
    - <span data-ttu-id="c733f-111">Direkt kompilering och feedback om att skriva (*kallas även*</span><span class="sxs-lookup"><span data-stu-id="c733f-111">Live compilation and feedback on typing (*a.k.a.*</span></span> <span data-ttu-id="c733f-112">kurvad understrykning).</span><span class="sxs-lookup"><span data-stu-id="c733f-112">squiggly underlining).</span></span>
    - <span data-ttu-id="c733f-113">Hov rings information inklusive dokumentations sammanfattningar och skriv signaturer.</span><span class="sxs-lookup"><span data-stu-id="c733f-113">Hover information including documentation summaries and type signatures.</span></span>
    - <span data-ttu-id="c733f-114">Stöd för gå till definition.</span><span class="sxs-lookup"><span data-stu-id="c733f-114">Support for go to definition.</span></span>
    - <span data-ttu-id="c733f-115">Enkel navigering till namn områdes-, Operations-, Function-och Type-deklarationer.</span><span class="sxs-lookup"><span data-stu-id="c733f-115">Easy navigation to namespace, operation, function, and type declarations.</span></span>
    - <span data-ttu-id="c733f-116">Förbättrade diagnostiska meddelanden.</span><span class="sxs-lookup"><span data-stu-id="c733f-116">Improved diagnostic messages.</span></span>
- <span data-ttu-id="c733f-117">Språk förbättringar</span><span class="sxs-lookup"><span data-stu-id="c733f-117">Language improvements</span></span>
    - <span data-ttu-id="c733f-118">Enkel qubit och tupel initieringar inom användning och upplåning</span><span class="sxs-lookup"><span data-stu-id="c733f-118">Single qubit and tuple initializations within using and borrowing</span></span>
    - <span data-ttu-id="c733f-119">Tuple-inkonstruktion för alla tilldelningar</span><span class="sxs-lookup"><span data-stu-id="c733f-119">Tuple deconstruction on all assignments</span></span>
    - <span data-ttu-id="c733f-120">Iteration över matriser</span><span class="sxs-lookup"><span data-stu-id="c733f-120">Iteration over arrays</span></span>
    - <span data-ttu-id="c733f-121">Villkorliga uttryck</span><span class="sxs-lookup"><span data-stu-id="c733f-121">Conditional expressions</span></span>
    - <span data-ttu-id="c733f-122">Standard – specialisering förkortning för åtgärder</span><span class="sxs-lookup"><span data-stu-id="c733f-122">Default-specialization abbreviation for operations</span></span>
    - <span data-ttu-id="c733f-123">Automatiskt genererade typ konstruktioner</span><span class="sxs-lookup"><span data-stu-id="c733f-123">Auto-generated type constructors</span></span>
    - <span data-ttu-id="c733f-124">Uttrycks modifierare</span><span class="sxs-lookup"><span data-stu-id="c733f-124">Expression modifiers</span></span>


## <a name="editor-features"></a><span data-ttu-id="c733f-125">Redigerings funktioner</span><span class="sxs-lookup"><span data-stu-id="c733f-125">Editor Features</span></span>

<span data-ttu-id="c733f-126">I Quantum Development Kit finns nu en språk Server för Q #, samt klient integreringar för Visual Studio och Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="c733f-126">The Quantum Development Kit now includes a language server for Q#, as well as the client integrations for Visual Studio and Visual Studio Code.</span></span>
<span data-ttu-id="c733f-127">Detta möjliggör en ny uppsättning IntelliSense-funktioner samt live-feedback för skrivning i form av vågiga understrykningar under fel och varningar.</span><span class="sxs-lookup"><span data-stu-id="c733f-127">This enables a new set of IntelliSense features along with live feedback on typing in form of squiggly underlinings of errors and warnings.</span></span>
<span data-ttu-id="c733f-128">Gå till definition stöds nu och hov rings information visas som innehåller typ information och information från dokument kommentarer.</span><span class="sxs-lookup"><span data-stu-id="c733f-128">In particular, go to definition is now supported and hover information is displayed containing type information as well as information from documenting comments.</span></span> <span data-ttu-id="c733f-129">Dessutom är symbol information om definierade namn rymder, åtgärder, funktioner och typer tillgängliga och gör det möjligt att snabbt navigera till deklarationer.</span><span class="sxs-lookup"><span data-stu-id="c733f-129">Additionally, symbol information about defined namespaces, operations, functions, and types is available and allows to quickly navigate to declarations.</span></span>    
<span data-ttu-id="c733f-130">Den här uppdateringen förbättrar avsevärt de diagnostiska meddelandena i allmänhet, med enkel navigering till och exakta intervall för diagnostik samt ytterligare information i den hovringsinformation som visas.</span><span class="sxs-lookup"><span data-stu-id="c733f-130">This update greatly improves diagnostic messages in general, with easy navigation to and precise ranges for diagnostics and additional details in the displayed hover information.</span></span> 

<span data-ttu-id="c733f-131">För den här 0,3-versionen stöder inte språk servern som ingår i Quantum Development Kit flera arbets ytor.</span><span class="sxs-lookup"><span data-stu-id="c733f-131">For this 0.3 release, the language server included with the Quantum Development Kit does not support multiple workspaces.</span></span>
<span data-ttu-id="c733f-132">För att arbeta med ett projekt i VS Code öppnar du rotmappen som innehåller själva projektet och alla refererade projekt.</span><span class="sxs-lookup"><span data-stu-id="c733f-132">In order to work with a project in VS Code, open the root folder containing the project itself and all referenced projects.</span></span>
<span data-ttu-id="c733f-133">För att du ska kunna arbeta med en lösning i Visual Studio behöver alla projekt som finns i lösningen finnas i samma mapp som lösningen eller i någon av dess undermappar.</span><span class="sxs-lookup"><span data-stu-id="c733f-133">In order to work with a solution in Visual Studio, all projects contained in the solution need to be in the same folder as the solution or in one of its subfolders.</span></span>

## <a name="language-features"></a><span data-ttu-id="c733f-134">Språk funktioner</span><span class="sxs-lookup"><span data-stu-id="c733f-134">Language Features</span></span>

<span data-ttu-id="c733f-135">I termer av språk funktioner kombinerar den här uppdateringen behandlingen av en rad språk mönster.</span><span class="sxs-lookup"><span data-stu-id="c733f-135">In terms of language features, this update unifies the treatment of a range of language patterns.</span></span>
<span data-ttu-id="c733f-136">Typ konstruktioner genereras till exempel för varje användardefinierad typ och kan delvis tillämpas på samma sätt som vilken annan funktion som helst.</span><span class="sxs-lookup"><span data-stu-id="c733f-136">Type constructors, as an example, are generated for each user defined type and can be partially applied much like any other function.</span></span>
<span data-ttu-id="c733f-137">Ett annat exempel är Tuple-inkonstruktion, som nu stöds fullt ut i alla tilldelningar.</span><span class="sxs-lookup"><span data-stu-id="c733f-137">Another example is tuple deconstruction, which is now fully supported within all assignments.</span></span> <span data-ttu-id="c733f-138">Detta inkluderar inte bara föränderligt-,-och set-satser, utan även upprepnings variabeln i for-loopar samt användnings-och upplånings tilldelningar.</span><span class="sxs-lookup"><span data-stu-id="c733f-138">This includes not only let-, mutable-, and set-statements, but also the iteration variable in for-loops as well as using- and borrowing-allocations.</span></span> <span data-ttu-id="c733f-139">Dessutom stöds delvis inkonstruktioner som nyligen med 0,3-uppdateringen. under streck i inkonstruktioner visar delar av värdet som ska ignoreras.</span><span class="sxs-lookup"><span data-stu-id="c733f-139">Additionally, partial deconstructions are newly supported with the 0.3 update; underscores in deconstructions indicate parts of the value that are to be ignored.</span></span> 

<span data-ttu-id="c733f-140">Följande kod illustrerar några av de nya funktionerna:</span><span class="sxs-lookup"><span data-stu-id="c733f-140">The following code illustrates some of the new features:</span></span>
```qsharp
    let tuples = [(1, 0), (0, 1)];
    mutable res = (0, 0, 0);

    // For-loops can iterate over arrays, and can destructure tuples.
    for ((i1, i2) in tuples) {

        // Mutable assignments can now destructure and ignore parts of tuples,
        // using the same syntax as let-bindings.
        mutable (r1, r2, _) = res;
        set (r1, r2) = (r1 ||| i1, r2 &&& i2);

        let (_, _, s) = res;
        // The new conditional operator can be used inside expressions, avoiding
        // the need for extraneous if-statements.
        set res = (r1, r2, r1 == r2 ? s | s + 1);
    }
```
<span data-ttu-id="c733f-141">Den senaste set-instruktionen använder en ny ternär operator som introduceras med 0,3-uppdateringen för att stödja villkorliga uttryck.</span><span class="sxs-lookup"><span data-stu-id="c733f-141">The last set statement uses a new ternary operator that is introduced with the 0.3 update to support conditional expressions.</span></span>
<span data-ttu-id="c733f-142">Ett villkors uttryck är ett uttryck för formuläret `condition ? caseTrue | caseFalse` .</span><span class="sxs-lookup"><span data-stu-id="c733f-142">A conditional expression is an expression of the form `condition ? caseTrue | caseFalse`.</span></span>
<span data-ttu-id="c733f-143">Som du kan se i exemplet ovan, stöds nu även iteration över matriser.</span><span class="sxs-lookup"><span data-stu-id="c733f-143">As can be seen from the example above, iteration over arrays is now also supported.</span></span>

<span data-ttu-id="c733f-144">Allokeringar inom `using` och `borrowing` är nyligen möjliga för enskilda qubits, qubit-matriser och kapslade tupler av dessa:</span><span class="sxs-lookup"><span data-stu-id="c733f-144">Allocations within `using` and `borrowing` are newly possible for single qubits, qubit arrays, and nested tuples thereof:</span></span>
```qsharp
    using (qubit = Qubit()) {
        // qubit contains a single qubit
    }

    borrowing ((qubits, qubit) = (Qubit[3], Qubit())) {
        // qubits contains an array of three qubits, and qubit contains a single qubit
    }
```

<span data-ttu-id="c733f-145">Två nya specialiserings direktiv för specialisering `invert` och `distribute` dessutom `auto` introduceras för att öka kontrollen över hur Functor-specialiseringar genereras.</span><span class="sxs-lookup"><span data-stu-id="c733f-145">Two new specialization generator directives `invert` and `distribute` in addition to `auto` are introduced to increase control over how functor specializations are generated.</span></span>
<span data-ttu-id="c733f-146">En explicit deklaration av standard- `body` specialiseringen inom åtgärder är inte längre obligatorisk.</span><span class="sxs-lookup"><span data-stu-id="c733f-146">An explicit declaration of the default `body` specialization within operations is no longer mandatory.</span></span>
<span data-ttu-id="c733f-147">På liknande sätt kan instruktioner läggas till direkt i själva åtgärds deklarationen om ingen annan specialisering deklareras i åtgärden.</span><span class="sxs-lookup"><span data-stu-id="c733f-147">Similar to functions, statements may be directly added to the operation declaration itself if no other specialization is declared within the operation.</span></span>
<span data-ttu-id="c733f-148">Ett migreringsarkiv ingår i versionen för att hjälpa till att migrera befintlig kod och dra nytta av nya språk funktioner (se [avsnittet om migrations skriptet](#MigrationScript)).</span><span class="sxs-lookup"><span data-stu-id="c733f-148">A migration script is included in the release to help migrating existing code and taking advantage of new language features (see the [section on the migration script](#MigrationScript)).</span></span>

<span data-ttu-id="c733f-149">En större ändring i hur användardefinierade typer behandlas levereras med 0,3-uppdateringen.</span><span class="sxs-lookup"><span data-stu-id="c733f-149">A major change in how user-defined types are treated comes with the 0.3 update.</span></span> <span data-ttu-id="c733f-150">Medan tidigare versioner behandlade användardefinierade typer som under typer av deras underliggande typ, är detta inte längre fallet framåt (se även [avsnittet om att bryta ändringar](#BreakingChanges)).</span><span class="sxs-lookup"><span data-stu-id="c733f-150">While prior releases treated user defined types as subtypes of their underlying type, this is no longer the case going forward (see also the [section on breaking changes](#BreakingChanges)).</span></span>  
<span data-ttu-id="c733f-151">Som en del av den här ändringen introducerar vi uttrycks modifierare som kan tillämpas på vissa uttryck.</span><span class="sxs-lookup"><span data-stu-id="c733f-151">As part of this change we introduce expression modifiers that can be applied to certain expressions.</span></span> <span data-ttu-id="c733f-152">De "atomiska" uttryck som modifierare kan tillämpas på är identifierare, mat ris objekts uttryck och aritet-1 tupleer.</span><span class="sxs-lookup"><span data-stu-id="c733f-152">The "atomic" expressions that modifiers can be applied to are identifiers, array item expressions, and arity-1 tuples.</span></span>
<span data-ttu-id="c733f-153">Modifierare binder tätt behållare än andra uttryck Combinator, och särskilt närmare än anrops uttrycket Combinator `(` `)` .</span><span class="sxs-lookup"><span data-stu-id="c733f-153">Modifiers bind tighter than any other expression combinator, and in particular tighter than the call-expression combinator `(` `)`.</span></span> 
<span data-ttu-id="c733f-154">`Adjoint`, `Controlled` och en ny "unwrap" postfix-operator `!` behandlas som uttrycks modifierare.</span><span class="sxs-lookup"><span data-stu-id="c733f-154">`Adjoint`, `Controlled`, and a new "unwrap" postfix operator `!` are treated as expression modifiers.</span></span> <span data-ttu-id="c733f-155">Genom `Adjoint` att behandla och `Controlled` som uttrycks modifierare elimineras behovet av parenteser för många fall.</span><span class="sxs-lookup"><span data-stu-id="c733f-155">Treating `Adjoint` and `Controlled` as expression modifiers eliminates the need for parenthesis for a lot of cases.</span></span> <span data-ttu-id="c733f-156">Uttrycken nedan är till exempel giltiga för `Op` , en enhetlig åtgärd, `opArr` en matris med enhetlig drift och `arg` ett lämpligt argument:</span><span class="sxs-lookup"><span data-stu-id="c733f-156">The expressions below for example are valid going forward for `Op`, a unitary operation, `opArr` an array of unitary operations, and `arg` a suitable argument:</span></span> 
```qsharp
    Adjoint Op (arg);
    Controlled opArr[i] (arg);
```
<span data-ttu-id="c733f-157">Migrations skriptet släpper de flesta av de onödiga parenteserna och utnyttjar de nya funktionerna fullt ut.</span><span class="sxs-lookup"><span data-stu-id="c733f-157">The migration script will drop most of the unnecessary parenthesis and take full advantage of the new features.</span></span> <span data-ttu-id="c733f-158">Dock bör du uppmanas att skriptet inte tolkar koden och kommer inte att redovisa den andra tolkningen av `Controlled` Functor i sällsynta fall (endast relevant i kombination med delar av program).</span><span class="sxs-lookup"><span data-stu-id="c733f-158">However, be advised that the script does not interpret the code, and will not account for the different interpretation of the `Controlled` functor in rare cases (only relevant in combination with partial applications).</span></span>

<span data-ttu-id="c733f-159">Den nya modifieraren skickar `!` en användardefinierad typ till dess underliggande typ.</span><span class="sxs-lookup"><span data-stu-id="c733f-159">The new modifier `!` casts a user-defined type to its underlying type.</span></span> <span data-ttu-id="c733f-160">Den här sändningen har blivit en uppsändning i tidigare versioner och kördes automatiskt.</span><span class="sxs-lookup"><span data-stu-id="c733f-160">This cast has been considered an upcast in previous releases and was executed automatically.</span></span> <span data-ttu-id="c733f-161">Med den nya tolkningen av användardefinierade typer är det inte längre fallet och omvandlingen måste göras explicit.</span><span class="sxs-lookup"><span data-stu-id="c733f-161">With the new interpretation of user defined types this is no longer the case and the cast needs to be made explicit.</span></span>    
<span data-ttu-id="c733f-162">I följande exempel visas hur du använder den nya modifieraren:</span><span class="sxs-lookup"><span data-stu-id="c733f-162">The following example illustrates how to use the new modifier:</span></span> 
```qsharp
    newtype Unitary = (Qubit => Unit: Adjoint, Controlled);

    operation Foo (unitaries : Unitary[], qubit : Qubit) : Unit {

        for (unitary in unitaries[1 .. Length(unitaries)-1]) {
            // Each element of unitaries is an instance of the user-defined
            // type Unitary, so unitary! unwraps each element to an operation
            // type that we can call.
            unitary! (qubit);
            // The unwrap operator can also be used as a part of functor
            // expressions and when indexing into arrays.
            Adjoint unitary! (qubit);
            Adjoint unitaries[0]! (qubit);
        }
    }
```
<span data-ttu-id="c733f-163">Som du kan se i exemplet är det mer `!` likt prefixs modifierare som `Controlled` och `Adjoint` .</span><span class="sxs-lookup"><span data-stu-id="c733f-163">As can be seen from the example, `!` binds tighter than prefix modifiers, like `Controlled` and `Adjoint`.</span></span>

## <a name="breaking-changes"></a><a name="BreakingChanges"></a><span data-ttu-id="c733f-164">Bryta ändringar</span><span class="sxs-lookup"><span data-stu-id="c733f-164">Breaking Changes</span></span> 

<span data-ttu-id="c733f-165">Uppdateringen 0,3 levereras med en ny kompilerare och innehåller en fåtal med överlappande ändringar.</span><span class="sxs-lookup"><span data-stu-id="c733f-165">The 0.3 update comes with a new compiler and contains a handful of breaking changes.</span></span>
<span data-ttu-id="c733f-166">För att under lätta uppdateringen av befintlig kod tillhandahåller kompileraren även ett formateringsalternativ som kompilerar giltig eller ogiltig kod och genererar formaterad Q #-kod baserat på den inbyggda kompileringen.</span><span class="sxs-lookup"><span data-stu-id="c733f-166">To facilitate updating existing code, the compiler also provides a formatting option that compiles valid or invalid code and emits formatted Q# code based on the built compilation.</span></span>
<span data-ttu-id="c733f-167">Alla ändringar av syntaxen kommer att bearbetas automatiskt av det tillhandahållna verktyget.</span><span class="sxs-lookup"><span data-stu-id="c733f-167">All syntax changes will be processed automatically by the provided tool.</span></span> <span data-ttu-id="c733f-168">Ändringar i hur giltig kod tolkas (semantiska ändringar) kan dock behöva göras manuellt.</span><span class="sxs-lookup"><span data-stu-id="c733f-168">However, changes in how valid code is interpreted (semantic changes) may need to be made manually.</span></span> 

<span data-ttu-id="c733f-169">Förutom de ändringar som anges nedan `__*__` är mönstret där \* är en sekvens av tecken som inte är blank steg reserverat för internt bruk och kan inte användas som symbol namn.</span><span class="sxs-lookup"><span data-stu-id="c733f-169">In addition to the changes listed below, the pattern `__*__` where \* is any sequence of non-whitespace characters is reserved for internal use and cannot be used as a symbol name.</span></span>  

## <a name="syntax-changes"></a><span data-ttu-id="c733f-170">Syntax-ändringar</span><span class="sxs-lookup"><span data-stu-id="c733f-170">Syntax Changes</span></span> 

- <span data-ttu-id="c733f-171">Från och med version 0,3 åtskiljs inte längre mat ris objekt av semikolon, men avgränsas med kommatecken i stället.</span><span class="sxs-lookup"><span data-stu-id="c733f-171">Starting with the version 0.3, array items are no longer separated by semicolons, but are separated by commas instead.</span></span>
- <span data-ttu-id="c733f-172">Ett semikolon på den andra sidan krävs efter ett automatiskt generations-direktiv för specialiserings deklarationer.</span><span class="sxs-lookup"><span data-stu-id="c733f-172">A semicolon on the other hand is required after an auto-generation directive for specialization declarations.</span></span>
- <span data-ttu-id="c733f-173">Villkor i IF-, Elif-och until-satserna måste kapslas in i parentes.</span><span class="sxs-lookup"><span data-stu-id="c733f-173">Conditions in if-, elif-, and until-clauses need to be encapsulated in parenthesis.</span></span> 

<span data-ttu-id="c733f-174">För alla andra syntaxs-ändringar genererar kompileraren bara en varning om den gamla syntaxen används.</span><span class="sxs-lookup"><span data-stu-id="c733f-174">For all other syntax changes the compiler will simply generate a warning if the old syntax is used.</span></span>     
<span data-ttu-id="c733f-175">Ett exempel på en sådan ändring är symbolens tupel i användardefinierade specialiseringar.</span><span class="sxs-lookup"><span data-stu-id="c733f-175">One example for such a change is the symbol tuple in user-defined specializations.</span></span> <span data-ttu-id="c733f-176">I tidigare versioner har en kontrollerad eller kontrollerad specialiseringad specialisering angett ett enda symbol argument, med början i 0,3, vi rekommenderar att du anger en sådan symbol för alla specialiseringar `...` som anger att kompilatorn ska migrera symbolerna från den anropande deklarationen om det behövs.</span><span class="sxs-lookup"><span data-stu-id="c733f-176">While in previous releases a controlled or controlled-adjoint specialization declaration specified a single symbol argument, starting in 0.3 it is encouraged to provide such a symbol tuple for all specialization with `...` indicating that the compiler should migrate the symbols from the callable declaration if needed.</span></span> 

## <a name="semantic-changes"></a><span data-ttu-id="c733f-177">Semantiska ändringar</span><span class="sxs-lookup"><span data-stu-id="c733f-177">Semantic Changes</span></span> 

<span data-ttu-id="c733f-178">Den mest effektfulla överbelastningen för 0,3-versionen är hur användardefinierade typer integreras i typ systemet.</span><span class="sxs-lookup"><span data-stu-id="c733f-178">The most impactful breaking for the 0.3 release is how user-defined types are integrated into the type system.</span></span> <span data-ttu-id="c733f-179">I tidigare versioner ansågs användardefinierade typer vara en undertyp till deras underliggande typ.</span><span class="sxs-lookup"><span data-stu-id="c733f-179">In prior releases user defined types were considered to be a subtype of their underlying type.</span></span> <span data-ttu-id="c733f-180">I den här versionen och fortsätter att vidarebefordra detta är det inte längre fallet.</span><span class="sxs-lookup"><span data-stu-id="c733f-180">With this release and going forward this is no longer the case.</span></span> <span data-ttu-id="c733f-181">Användardefinierade typer anses nu vara deras egna distinkta typ och ingen automatisk omvandling mellan en användardefinierad typ och dess underliggande typ finns.</span><span class="sxs-lookup"><span data-stu-id="c733f-181">User defined types are now considered to be their own distinct type, and no automatic cast between a user defined type and its underlying type exists.</span></span> <span data-ttu-id="c733f-182">Alla sändningar måste göras explicit via en "unwrap" `!` -operator och en omvandling krävs för att komma åt innehållet i ett objekt av användardefinierad typ.</span><span class="sxs-lookup"><span data-stu-id="c733f-182">All casts need to be made explicit via an "unwrap" operator `!`, and a cast is needed in particular to access the content of a object of user defined type.</span></span>  

<span data-ttu-id="c733f-183">Ändringarna i typ systemet inkluderar också var Ians beteendet för matriser och behandlingen av typ parameter objekt.</span><span class="sxs-lookup"><span data-stu-id="c733f-183">The modifications to the type system also include the variance behavior of arrays, and the treatment of type parameterized objects.</span></span> <span data-ttu-id="c733f-184">Från och med 0,3 är både föränderligt och oföränderliga matriser invarianta.</span><span class="sxs-lookup"><span data-stu-id="c733f-184">Starting in 0.3, both mutable and immutable arrays are invariant.</span></span> <span data-ttu-id="c733f-185">Dessutom kan argument som skickas till en anropad typ parameter inte anges.</span><span class="sxs-lookup"><span data-stu-id="c733f-185">Additionally, arguments passed to a callable cannot be type parameterized.</span></span> <span data-ttu-id="c733f-186">I dessa fall måste typ argument skickas tillsammans med identifierare.</span><span class="sxs-lookup"><span data-stu-id="c733f-186">In these cases, type arguments must be passed along with the identifer.</span></span>

<span data-ttu-id="c733f-187">I tidigare versioner av Q #-kompilatorn tillåts ett funktions värde som anges där ett åtgärds värde förväntades, förutsatt att funktions värdet hade rätt indata-och utdatatyper.</span><span class="sxs-lookup"><span data-stu-id="c733f-187">Previous releases of the Q# compiler allowed a function value to be provided where an operation value was expected, as long as the function value had the correct input and output types.</span></span> <span data-ttu-id="c733f-188">Detta var oavsiktligt beteende som inte har angetts i språk specifikationen Q #.</span><span class="sxs-lookup"><span data-stu-id="c733f-188">This was unintended behavior that is not specified in the Q# language specification.</span></span>
<span data-ttu-id="c733f-189">I 0,3-kompilatorn har vi tagit bort det här beteendet så att funktions värden inte längre betraktas som åtgärds värden.</span><span class="sxs-lookup"><span data-stu-id="c733f-189">In the 0.3 compiler, we have removed this behavior so that function values are no longer considered operation values.</span></span>
<span data-ttu-id="c733f-190">Vi har lagt till funktionen ToOperation i namn området Microsoft. Quantum. Canon för att minimera störningar till befintlig kod som förlitar sig på det här felet. du har nu lagt till en funktion i en åtgärd med samma indata och utdata.</span><span class="sxs-lookup"><span data-stu-id="c733f-190">To minimize the disruption to existing code that relied on this bug, we have added the ToOperation function in the Microsoft.Quantum.Canon namespace that will explicitly convert a function into an operation with the same input and output types.</span></span>

<span data-ttu-id="c733f-191">Följande exempel illustrerar hur du använder `ToOperation` funktionen för att ändra en funktion `Square` till en åtgärd `op` :</span><span class="sxs-lookup"><span data-stu-id="c733f-191">The following example illustrates how to use the `ToOperation` function to change a function `Square` to an operation `op`:</span></span> 
```qsharp
namespace Microsoft.Quantum.Tests {
    open Microsoft.Quantum.Primitive;
    open Microsoft.Quantum.Canon;

    function Square(x : Int) : Int {
        return x * x;
    }

    operation ApplyOp<'T, 'U>(op : ('T => 'U), input : 'T) : 'U {
        return op(input);
    }

    operation ToOperationTest() : Unit {
        let op = ToOperation(Square);
        AssertIntEqual(ApplyOp(op, 3), 9, "ToOperation failed with Square.");
    }
}
```

## <a name="requirements"></a><span data-ttu-id="c733f-192">Krav</span><span class="sxs-lookup"><span data-stu-id="c733f-192">Requirements</span></span> 

<span data-ttu-id="c733f-193">Versionen stöds i Visual Studio 2017 version 15,8 eller senare för Windows 10, och i Visual Studio Code version 1.27.2 eller senare för Windows 10, macOS och Linux.</span><span class="sxs-lookup"><span data-stu-id="c733f-193">The release is supported on Visual Studio 2017 version 15.8 or later for Windows 10, and on Visual Studio Code version 1.27.2 or later for Windows 10, macOS, and Linux.</span></span>

<span data-ttu-id="c733f-194">I Quantum Development Kit används .NET Core SDK (2,0 eller senare).</span><span class="sxs-lookup"><span data-stu-id="c733f-194">The Quantum Development Kit uses the .NET Core SDK (2.0 or later).</span></span>

## <a name="installation"></a><span data-ttu-id="c733f-195">Installation</span><span class="sxs-lookup"><span data-stu-id="c733f-195">Installation</span></span>  

<span data-ttu-id="c733f-196">Följ installations anvisningarna [här](../install-guide/index.md).</span><span class="sxs-lookup"><span data-stu-id="c733f-196">Follow the installation instructions [here](../install-guide/index.md).</span></span>

<span data-ttu-id="c733f-197">Du kan se varningar ("hittade konflikter mellan olika versioner av" system. Reflection. metadata "som inte kunde matchas.") om din aktuella version av .NET Core SDK inte är uppdaterad.</span><span class="sxs-lookup"><span data-stu-id="c733f-197">You may see warnings ("Found conflicts between different versions of "System.Reflection.Metadata" that could not be resolved.") if your current version of .NET Core SDK is not up to date.</span></span>  <span data-ttu-id="c733f-198">Men om du använder .NET Core SDK (2,0 eller senare) kan dessa varningar ignoreras.</span><span class="sxs-lookup"><span data-stu-id="c733f-198">However, if you are using .NET Core SDK (2.0 or later), these warnings may be ignored.</span></span>


- <span data-ttu-id="c733f-199">Versionen tillhandahålls tillsammans med ett antal olika exempel som visar hur du använder båda befintliga funktioner i Quantum Development Kit och de nya funktionerna som är tillgängliga i den här versionen.</span><span class="sxs-lookup"><span data-stu-id="c733f-199">The release is provided along with a number of different samples showing how to use both existing features of the Quantum Development Kit, and the new features available with this release.</span></span> <span data-ttu-id="c733f-200">De här exemplen kan finnas på GitHub på [Microsoft/Quantum-](https://github.com/Microsoft/Quantum) lagringsplatsen.</span><span class="sxs-lookup"><span data-stu-id="c733f-200">These samples can be can be found on GitHub at the [Microsoft/Quantum](https://github.com/Microsoft/Quantum) repository.</span></span>


## <a name="migrating-existing-projects-to-q-03"></a><a name="Migration"></a><span data-ttu-id="c733f-201">Migrera befintliga projekt till Q # 0,3</span><span class="sxs-lookup"><span data-stu-id="c733f-201">Migrating Existing Projects to Q# 0.3</span></span> 

<span data-ttu-id="c733f-202">Om du har befintliga Q #-projekt från version 0,2 av Quantum Development Kit, följer du stegen nedan för att migrera projekten till den senaste versionen.</span><span class="sxs-lookup"><span data-stu-id="c733f-202">If you have existing Q# projects from version 0.2 of the Quantum Development Kit, the following are the steps to migrate those projects to the newest version.</span></span> <span data-ttu-id="c733f-203">Vi tillhandahåller också ett [migreringsarkiv](#MigrationScript) för att hjälpa dig med processen.</span><span class="sxs-lookup"><span data-stu-id="c733f-203">We also provide a [migration script](#MigrationScript) to help you with the process.</span></span>

> [!NOTE]
> <span data-ttu-id="c733f-204">Projekt behöver uppgraderas i rätt ordning.</span><span class="sxs-lookup"><span data-stu-id="c733f-204">Projects need to be upgraded in order.</span></span> <span data-ttu-id="c733f-205">Om du har en lösning med flera projekt uppdaterar du varje projekt i den ordning som de refereras till.</span><span class="sxs-lookup"><span data-stu-id="c733f-205">If you have a solution with multiple projects update each project in the order they are referenced.</span></span>


1. <span data-ttu-id="c733f-206">Från en kommandorad kör du `dotnet clean` för att ta bort alla befintliga binärfiler och mellanliggande filer.</span><span class="sxs-lookup"><span data-stu-id="c733f-206">From a command line, Run `dotnet clean` to remove all existing binaries and intermediate files.</span></span>
2. <span data-ttu-id="c733f-207">Redigera. CSPROJ-filen i en text redigerare och ändra versionen av alla "Microsoft. Quantum" `PackageReference` till version 0.3.1811.2802 – för hands version, till exempel:</span><span class="sxs-lookup"><span data-stu-id="c733f-207">In a text editor, edit the .csproj file to change the version of all the "Microsoft.Quantum" `PackageReference` to version 0.3.1811.2802-preview, for example:</span></span>
```xml
    <PackageReference Include="Microsoft.Quantum.Canon" Version="0.3.1811.2802" />
    <PackageReference Include="Microsoft.Quantum.Development.Kit" Version="0.3.1811.2802" />
```
4. <span data-ttu-id="c733f-208">Från kommando raden använder du verktyget formatering som är integrerat i kommando rads kompilatorn för att hantera alla ändringar av syntaxen genom att köra det här kommandot:`dotnet msbuild /t:qsharpformat`</span><span class="sxs-lookup"><span data-stu-id="c733f-208">From the command line, use the formatting tool integrated into the command line compiler to address all syntax changes by running this command: `dotnet msbuild /t:qsharpformat`</span></span>  
    - <span data-ttu-id="c733f-209">Filerna kommer att migreras på plats.</span><span class="sxs-lookup"><span data-stu-id="c733f-209">Your files will be migrated in-place.</span></span> <span data-ttu-id="c733f-210">En säkerhets kopia av alla ursprungliga filer kopieras till`obj\qsharp\.backup`</span><span class="sxs-lookup"><span data-stu-id="c733f-210">A backup of all the original files will be copied to `obj\qsharp\.backup`</span></span>
    - <span data-ttu-id="c733f-211">Verktyget formatering kompilerar projektet och ignorerar alla kompileringsfel och genererar formaterad Q #-kod baserat på Build-kompileringen.</span><span class="sxs-lookup"><span data-stu-id="c733f-211">The formatting tool will compile the project ignoring all compilation errors and generate formatted Q# code based on the build compilation.</span></span> 
       <span data-ttu-id="c733f-212">En okänd symbol (t. ex. ett odefinierat variabel namn) kommer att ersättas av en platshållartext som måste ersättas manuellt efter formateringen.</span><span class="sxs-lookup"><span data-stu-id="c733f-212">Any unrecognized symbol (e.g. an undefined variable name) will be replaced by a placeholder text that needs to be replaced manually after formatting.</span></span> <span data-ttu-id="c733f-213">I det här fallet kommer formateringen att lyckas när en varning skapas för den berörda filen.</span><span class="sxs-lookup"><span data-stu-id="c733f-213">In this case, the formatting succeeds while generating a warning for the affected file.</span></span>     
    - <span data-ttu-id="c733f-214">Formatering och särskilt tomt utrymme i filen kommer att ändras i den utgivna koden.</span><span class="sxs-lookup"><span data-stu-id="c733f-214">The formatting and in particular any white space in the file will be changed in the emitted code.</span></span> <span data-ttu-id="c733f-215">Kommentarerna kommer att bevaras.</span><span class="sxs-lookup"><span data-stu-id="c733f-215">Comments will be preserved.</span></span>   
5. <span data-ttu-id="c733f-216">När du har kört det kan du fortfarande behöva adressera semantiska ändringar manuellt i fall där den semantiska tolkningen av koden har ändrats.</span><span class="sxs-lookup"><span data-stu-id="c733f-216">After running this, you might still need to manually address semantic changes in cases where the semantic interpretation of the code has changed.</span></span> <span data-ttu-id="c733f-217">Alla dessa fel rapporteras av IntelliSense i Visual Studio eller Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="c733f-217">All these errors will be reported by IntelliSense in Visual Studio or Visual Studio Code.</span></span>
    - <span data-ttu-id="c733f-218">Öppna rotmappen för projektet eller den innehåll ande lösningen i Visual Studio 2017 eller Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="c733f-218">Open the root folder of the project or the containing solution in Visual Studio 2017 or Visual Studio Code.</span></span>
    - <span data-ttu-id="c733f-219">När du har öppnat en .qs-fil i redigeringsprogrammet bör du se utdata från Q#-språktillägget i utdatafönstret.</span><span class="sxs-lookup"><span data-stu-id="c733f-219">After opening a .qs file in the editor, you should see the output of the Q# language extension in the output window.</span></span>
    - <span data-ttu-id="c733f-220">När projektet har lästs in (vilket anges i utdatafönstret) öppnar du varje fil och åtgärdar alla återstående problem manuellt.</span><span class="sxs-lookup"><span data-stu-id="c733f-220">After the project has loaded successfully (indicated in the output window) open each file and manually to address all remaining issues.</span></span>


> [!NOTE]
> * <span data-ttu-id="c733f-221">För 0,3-versionen stöder inte språk servern som ingår i Quantum Development Kit flera arbets ytor.</span><span class="sxs-lookup"><span data-stu-id="c733f-221">For the 0.3 release, the language server included with the Quantum Development Kit does not support multiple workspaces.</span></span>
> * <span data-ttu-id="c733f-222">För att du ska kunna arbeta med ett projekt i Visual Studio Code öppnar du den rotmapp som innehåller själva projektet och alla refererade projekt.</span><span class="sxs-lookup"><span data-stu-id="c733f-222">In order to work with a project in Visual Studio Code, open the root folder containing the project itself and all referenced projects.</span></span>   
> * <span data-ttu-id="c733f-223">För att du ska kunna arbeta med en lösning i Visual Studio behöver alla projekt som finns i lösningen finnas i samma mapp som lösningen eller i någon av dess undermappar.</span><span class="sxs-lookup"><span data-stu-id="c733f-223">In order to work with a solution in Visual Studio, all projects contained in the solution need to be in the same folder as the solution or in one of its subfolders.</span></span>  
> * <span data-ttu-id="c733f-224">Referenser mellan projekt som migreras till 0,3 och högre och projekt med äldre paket versioner stöds **inte** .</span><span class="sxs-lookup"><span data-stu-id="c733f-224">References between projects migrated to 0.3 and higher and projects using older package versions are **not** supported.</span></span>




## <a name="migration-script"></a><a name="MigrationScript"></a><span data-ttu-id="c733f-225">Migrations skript</span><span class="sxs-lookup"><span data-stu-id="c733f-225">Migration script</span></span> 

<span data-ttu-id="c733f-226">För att under lätta projekt migreringen tillhandahålls ett PowerShell-skript som kan hämtas [här](https://raw.githubusercontent.com/Microsoft/Quantum/release/v0.3.1810/utilities/qdk-migrate.ps1).</span><span class="sxs-lookup"><span data-stu-id="c733f-226">In order to facilitate project migration, a PowerShell script is provided that can be downloaded [here](https://raw.githubusercontent.com/Microsoft/Quantum/release/v0.3.1810/utilities/qdk-migrate.ps1).</span></span>
<span data-ttu-id="c733f-227">Det här skriptet hjälper till att migrera projekt från version 0,2 av Quantum Development Kit till att använda version 0,3.</span><span class="sxs-lookup"><span data-stu-id="c733f-227">This script helps migrate projects from version 0.2 of the Quantum Development Kit to use version 0.3.</span></span>

> [!NOTE]
> <span data-ttu-id="c733f-228">Migrations skriptet kräver att Windows PowerShell eller PowerShell Core körs.</span><span class="sxs-lookup"><span data-stu-id="c733f-228">The migration script requires Windows PowerShell or PowerShell Core to run.</span></span>
> <span data-ttu-id="c733f-229">Windows PowerShell levereras i förväg med Windows 10.</span><span class="sxs-lookup"><span data-stu-id="c733f-229">Windows PowerShell comes pre-installed with Windows 10.</span></span>
> <span data-ttu-id="c733f-230">Hämta PowerShell Core för Windows, macOS eller Linux på https://github.com/PowerShell/PowerShell .</span><span class="sxs-lookup"><span data-stu-id="c733f-230">Download PowerShell Core for Windows, macOS, or Linux at https://github.com/PowerShell/PowerShell.</span></span>

<span data-ttu-id="c733f-231">Skriptet kör följande fyra steg:</span><span class="sxs-lookup"><span data-stu-id="c733f-231">The script executes the following four steps:</span></span>

- <span data-ttu-id="c733f-232">Projektet har skapats med den tidigare versionen av Quantum Development Kit för att säkerställa att migreringen kommer att lyckas.</span><span class="sxs-lookup"><span data-stu-id="c733f-232">The project is built with the previous version of the Quantum Development Kit to ensure that migration is likely to succeed.</span></span> <span data-ttu-id="c733f-233">Det här steget kan hoppas över genom att använda- `-Force` parametern i skriptet.</span><span class="sxs-lookup"><span data-stu-id="c733f-233">This step can be skipped by using the `-Force` parameter to the script.</span></span>
- <span data-ttu-id="c733f-234">Nya projektmallar är installerade.</span><span class="sxs-lookup"><span data-stu-id="c733f-234">New project templates are installed.</span></span>
- <span data-ttu-id="c733f-235">Projektet uppdateras för att använda den aktuella versionen av Quantum Development Kit.</span><span class="sxs-lookup"><span data-stu-id="c733f-235">The project is updated to use the current version of the Quantum Development Kit.</span></span>
- <span data-ttu-id="c733f-236">Formateringsverktygsfältet som medföljer version 0,3 av Quantum Development Kit används för att automatiskt hantera de flesta av de ändringar som beskrivs ovan.</span><span class="sxs-lookup"><span data-stu-id="c733f-236">The formatting tool provided with version 0.3 of the Quantum Development Kit is applied to automatically address most of the breaking changes documented above.</span></span>

<span data-ttu-id="c733f-237">När dessa fyra steg har slutförts kan det uppstå några återstående migrerings problem som måste hanteras manuellt.</span><span class="sxs-lookup"><span data-stu-id="c733f-237">After these four steps complete, there may be some remaining migration issues which must be handled manually.</span></span>
<span data-ttu-id="c733f-238">Genom att använda den senaste versionen av Quantum Development Kit-tilläggen för Visual Studio 2017 och Visual Studio Code kan du enkelt hitta problemen.</span><span class="sxs-lookup"><span data-stu-id="c733f-238">Using the latest version of the Quantum Development Kit extensions for Visual Studio 2017 and Visual Studio Code can help find these issues easily.</span></span>

<span data-ttu-id="c733f-239">Dokumentationen för skriptet kan hämtas genom att köra något av följande kommandon i mappen där skriptet finns:</span><span class="sxs-lookup"><span data-stu-id="c733f-239">The documentation for the script can be obtained by running one of the following commands in the folder where the script is located:</span></span>

```powershell
Get-Help ./qdk-migrate.ps1
Get-Help -Online ./qdk-migrate.ps1
```

> [!NOTE]
> <span data-ttu-id="c733f-240">Som standard förhindrar Windows körning av skript som säkerhets mått.</span><span class="sxs-lookup"><span data-stu-id="c733f-240">By default, Windows prevents the execution of any scripts as a security measure.</span></span>
> <span data-ttu-id="c733f-241">Om du vill tillåta skript som `qdk-migrate.ps1` att köras i Windows kan du behöva ändra körnings principen.</span><span class="sxs-lookup"><span data-stu-id="c733f-241">To allow scripts such as `qdk-migrate.ps1` to run on Windows, you may need to change the execution policy.</span></span>
> <span data-ttu-id="c733f-242">Det gör du genom att köra `Set-ExecutionPolicy` kommandot:</span><span class="sxs-lookup"><span data-stu-id="c733f-242">To do so, run the `Set-ExecutionPolicy` command:</span></span>
> ```powershell
> Set-ExecutionPolicy RemoteSigned -Scope Process
> ```
> <span data-ttu-id="c733f-243">Körnings principen kommer sedan att återställas när du avslutar PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c733f-243">The execution policy will then be reverted when you exit PowerShell.</span></span>
> <span data-ttu-id="c733f-244">Om du vill spara körnings principen använder du ett annat värde för `-Scope` :</span><span class="sxs-lookup"><span data-stu-id="c733f-244">If you would like to save the execution policy, use a different value for `-Scope`:</span></span>
> ```powershell
> Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
> ```

